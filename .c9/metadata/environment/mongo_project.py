{"filter":false,"title":"mongo_project.py","tooltip":"/mongo_project.py","undoManager":{"mark":54,"position":54,"stack":[[{"start":{"row":0,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["import pymongo","import os","","MONGO_URI = os.getenv('MONGO_URI')","DBS_NAME = 'myTestDb'","COLLECTION_NAME='myFirstMDB'","","def mongo_connect(url):","    try:","        conn=pymongo.MongoClient(url)","        print('Mongo is connected')","        return conn","    except pymongo.errors.ConnectionFailure as e:","        print('No joy ourlad: %s')% e",""],"id":1}],[{"start":{"row":10,"column":0},"end":{"row":10,"column":35},"action":"remove","lines":["        print('Mongo is connected')"],"id":2},{"start":{"row":9,"column":37},"end":{"row":10,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":12,"column":37},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":13,"column":0},"end":{"row":13,"column":8},"action":"insert","lines":["        "]},{"start":{"row":13,"column":8},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":14,"column":4},"end":{"row":14,"column":8},"action":"remove","lines":["    "],"id":4},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["d"],"id":5},{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"insert","lines":["e"]},{"start":{"row":14,"column":2},"end":{"row":14,"column":3},"action":"insert","lines":["f"]}],[{"start":{"row":14,"column":3},"end":{"row":14,"column":4},"action":"insert","lines":[" "],"id":6},{"start":{"row":14,"column":4},"end":{"row":14,"column":5},"action":"insert","lines":["s"]},{"start":{"row":14,"column":5},"end":{"row":14,"column":6},"action":"insert","lines":["h"]},{"start":{"row":14,"column":6},"end":{"row":14,"column":7},"action":"insert","lines":["o"]},{"start":{"row":14,"column":7},"end":{"row":14,"column":8},"action":"insert","lines":["_"]}],[{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"insert","lines":["m"],"id":7},{"start":{"row":14,"column":9},"end":{"row":14,"column":10},"action":"insert","lines":["e"]},{"start":{"row":14,"column":10},"end":{"row":14,"column":11},"action":"insert","lines":["n"]},{"start":{"row":14,"column":11},"end":{"row":14,"column":12},"action":"insert","lines":["u"]}],[{"start":{"row":14,"column":11},"end":{"row":14,"column":12},"action":"remove","lines":["u"],"id":8},{"start":{"row":14,"column":10},"end":{"row":14,"column":11},"action":"remove","lines":["n"]},{"start":{"row":14,"column":9},"end":{"row":14,"column":10},"action":"remove","lines":["e"]},{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"remove","lines":["m"]},{"start":{"row":14,"column":7},"end":{"row":14,"column":8},"action":"remove","lines":["_"]}],[{"start":{"row":14,"column":7},"end":{"row":14,"column":8},"action":"insert","lines":["w"],"id":9},{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"insert","lines":["_"]},{"start":{"row":14,"column":9},"end":{"row":14,"column":10},"action":"insert","lines":["m"]},{"start":{"row":14,"column":10},"end":{"row":14,"column":11},"action":"insert","lines":["e"]},{"start":{"row":14,"column":11},"end":{"row":14,"column":12},"action":"insert","lines":["n"]},{"start":{"row":14,"column":12},"end":{"row":14,"column":13},"action":"insert","lines":["u"]}],[{"start":{"row":14,"column":13},"end":{"row":14,"column":15},"action":"insert","lines":["()"],"id":10}],[{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"insert","lines":[";"],"id":11}],[{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"remove","lines":[";"],"id":12}],[{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"insert","lines":[";"],"id":13}],[{"start":{"row":14,"column":16},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":14}],[{"start":{"row":14,"column":16},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":15},{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"remove","lines":[";"]}],[{"start":{"row":14,"column":15},"end":{"row":14,"column":16},"action":"insert","lines":[":"],"id":16}],[{"start":{"row":14,"column":16},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":15,"column":4},"end":{"row":15,"column":5},"action":"insert","lines":["p"],"id":18},{"start":{"row":15,"column":5},"end":{"row":15,"column":6},"action":"insert","lines":["r"]},{"start":{"row":15,"column":6},"end":{"row":15,"column":7},"action":"insert","lines":["i"]},{"start":{"row":15,"column":7},"end":{"row":15,"column":8},"action":"insert","lines":["n"]},{"start":{"row":15,"column":8},"end":{"row":15,"column":9},"action":"insert","lines":["t"]}],[{"start":{"row":15,"column":9},"end":{"row":15,"column":11},"action":"insert","lines":["()"],"id":19}],[{"start":{"row":15,"column":10},"end":{"row":15,"column":12},"action":"insert","lines":["''"],"id":20}],[{"start":{"row":15,"column":13},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":21},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":16,"column":4},"end":{"row":16,"column":5},"action":"insert","lines":["p"],"id":22},{"start":{"row":16,"column":5},"end":{"row":16,"column":6},"action":"insert","lines":["r"]},{"start":{"row":16,"column":6},"end":{"row":16,"column":7},"action":"insert","lines":["i"]},{"start":{"row":16,"column":7},"end":{"row":16,"column":8},"action":"insert","lines":["n"]}],[{"start":{"row":16,"column":4},"end":{"row":16,"column":8},"action":"remove","lines":["prin"],"id":23},{"start":{"row":16,"column":4},"end":{"row":16,"column":9},"action":"insert","lines":["print"]}],[{"start":{"row":16,"column":9},"end":{"row":16,"column":11},"action":"insert","lines":["()"],"id":24}],[{"start":{"row":16,"column":10},"end":{"row":16,"column":12},"action":"insert","lines":["''"],"id":25}],[{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"insert","lines":["1"],"id":26},{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"insert","lines":["."]}],[{"start":{"row":16,"column":13},"end":{"row":16,"column":14},"action":"insert","lines":[" "],"id":27}],[{"start":{"row":14,"column":0},"end":{"row":16,"column":16},"action":"remove","lines":["def show_menu():","    print('')","    print('1. ')"],"id":28},{"start":{"row":14,"column":0},"end":{"row":24,"column":0},"action":"insert","lines":["def show_menu():","    print(\"\")","    print(\"1. Add a record\")","    print(\"2. Find a record by name\")","    print(\"3. Edit a record\")","    print(\"4. Delete a record\")","    print(\"5. Exit\")","","    option = input(\"Enter option: \")","    return option",""]}],[{"start":{"row":24,"column":0},"end":{"row":25,"column":0},"action":"insert","lines":["",""],"id":29}],[{"start":{"row":25,"column":0},"end":{"row":25,"column":2},"action":"insert","lines":["# "],"id":30}],[{"start":{"row":25,"column":2},"end":{"row":25,"column":3},"action":"insert","lines":["m"],"id":31},{"start":{"row":25,"column":3},"end":{"row":25,"column":4},"action":"insert","lines":["a"]},{"start":{"row":25,"column":4},"end":{"row":25,"column":5},"action":"insert","lines":["i"]},{"start":{"row":25,"column":5},"end":{"row":25,"column":6},"action":"insert","lines":["n"]}],[{"start":{"row":25,"column":6},"end":{"row":25,"column":7},"action":"insert","lines":[" "],"id":32},{"start":{"row":25,"column":7},"end":{"row":25,"column":8},"action":"insert","lines":["l"]},{"start":{"row":25,"column":8},"end":{"row":25,"column":9},"action":"insert","lines":["o"]},{"start":{"row":25,"column":9},"end":{"row":25,"column":10},"action":"insert","lines":["o"]},{"start":{"row":25,"column":10},"end":{"row":25,"column":11},"action":"insert","lines":["p"]}],[{"start":{"row":25,"column":11},"end":{"row":26,"column":0},"action":"insert","lines":["",""],"id":33},{"start":{"row":26,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":27,"column":0},"end":{"row":49,"column":11},"action":"insert","lines":["def main_loop():","    while True:","        option = show_menu()","        if option == \"1\":","            print(\"You have selected option 1\")","        elif option == \"2\":","            print(\"You have selected option 2\")","        elif option == \"3\":","            print(\"You have selected option 3\")","        elif option == \"4\":","            print(\"You have selected option 4\")","        elif option == \"5\":","            conn.close()","            break","        else:","            print(\"Invalid option\")","        print(\"\")","","","conn = mongo_connect(MONGODB_URI)","coll = conn[DBS_NAME][COLLECTION_NAME]","","main_loop()"],"id":34}],[{"start":{"row":9,"column":37},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":35},{"start":{"row":10,"column":0},"end":{"row":10,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":10,"column":8},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":36},{"start":{"row":10,"column":8},"end":{"row":10,"column":12},"action":"remove","lines":["    "]}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":12},"action":"remove","lines":["    "],"id":37}],[{"start":{"row":46,"column":27},"end":{"row":46,"column":28},"action":"remove","lines":["B"],"id":38},{"start":{"row":46,"column":26},"end":{"row":46,"column":27},"action":"remove","lines":["D"]}],[{"start":{"row":23,"column":17},"end":{"row":24,"column":0},"action":"insert","lines":["",""],"id":39},{"start":{"row":24,"column":0},"end":{"row":24,"column":4},"action":"insert","lines":["    "]},{"start":{"row":24,"column":4},"end":{"row":25,"column":0},"action":"insert","lines":["",""]},{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":25,"column":0},"end":{"row":25,"column":4},"action":"remove","lines":["    "],"id":40}],[{"start":{"row":25,"column":0},"end":{"row":44,"column":45},"action":"insert","lines":["def add_record():","    print(\"\")","    first = input(\"Enter first name > \")","    last = input(\"Enter last name > \")","    dob = input(\"Enter date of birth > \")","    gender = input(\"Enter gender > \")","    hair_colour = input(\"Enter hair colour > \")","    occupation = input(\"Enter occupation > \")","    nationality = input(\"Enter nationality > \")","","    new_doc = {'first': first.lower(), 'last': last.lower(), 'dob': dob,","               'gender': gender, 'hair_colour': hair_colour, 'occupation':","               occupation, 'nationality': nationality}","    ","    try:","        coll.insert(new_doc)","        print(\"\")","        print(\"Document inserted\")","    except:","        print(\"Error accessing the database\")"],"id":41}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":47},"action":"remove","lines":["print(\"You have selected option 1\")"],"id":42}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":13},"action":"insert","lines":["a"],"id":43},{"start":{"row":52,"column":13},"end":{"row":52,"column":14},"action":"insert","lines":["d"]},{"start":{"row":52,"column":14},"end":{"row":52,"column":15},"action":"insert","lines":["d"]},{"start":{"row":52,"column":15},"end":{"row":52,"column":16},"action":"insert","lines":["_"]}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":16},"action":"remove","lines":["add_"],"id":44},{"start":{"row":52,"column":12},"end":{"row":52,"column":24},"action":"insert","lines":["add_record()"]}],[{"start":{"row":12,"column":37},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":45},{"start":{"row":13,"column":0},"end":{"row":13,"column":8},"action":"insert","lines":["        "]},{"start":{"row":13,"column":8},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":14,"column":4},"end":{"row":14,"column":8},"action":"remove","lines":["    "],"id":46},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":14,"column":0},"end":{"row":28,"column":14},"action":"insert","lines":["def get_record():","    print(\"\")","    first = input(\"Enter first name > \")","    last = input(\"Enter last name > \")","","    try:","        doc = coll.find_one({'first': first.lower(), 'last': last.lower()})","    except:","        print(\"Error accessing the database\")","    ","    if not doc:","        print(\"\")","        print(\"Error! No results found.\")","    ","    return doc"],"id":47}],[{"start":{"row":61,"column":0},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":48}],[{"start":{"row":62,"column":0},"end":{"row":110,"column":45},"action":"insert","lines":["def find_record():","    doc = get_record()","    if doc:","        print(\"\")","        for k, v in doc.items():","            if k != \"_id\":","                print(k.capitalize() + \": \" + v.capitalize())","","","def edit_record():","    doc = get_record()","    if doc:","        update_doc = {}","        print(\"\")","        for k, v in doc.items():","            if k != \"_id\":","                update_doc[k] = input(k.capitalize() + \" [\" + v + \"] > \")","","                if update_doc[k] == \"\":","                    update_doc[k] = v","        ","        try:","            coll.update_one(doc, {'$set': update_doc})","            print(\"\")","            print(\"Document updated\")","        except:","            print(\"Error accessing the database\")","","","def delete_record():","","    doc = get_record()","","    if doc:","        print(\"\")","        for k, v in doc.items():","            if k != \"_id\":","                print(k.capitalize() + \": \" + v.capitalize())","        ","        print(\"\")","        confirmation = input(\"Is this the document you want to delete?\\nY or N > \")","        print(\"\")","","        if confirmation.lower() == 'y':","            try:","                coll.remove(doc)","                print(\"Document deleted!\")","            except:","                print(\"Document not deleted\")"],"id":49}],[{"start":{"row":119,"column":12},"end":{"row":119,"column":47},"action":"remove","lines":["print(\"You have selected option 2\")"],"id":50}],[{"start":{"row":119,"column":12},"end":{"row":119,"column":13},"action":"insert","lines":["f"],"id":51},{"start":{"row":119,"column":13},"end":{"row":119,"column":14},"action":"insert","lines":["i"]},{"start":{"row":119,"column":14},"end":{"row":119,"column":15},"action":"insert","lines":["n"]},{"start":{"row":119,"column":15},"end":{"row":119,"column":16},"action":"insert","lines":["d"]}],[{"start":{"row":119,"column":12},"end":{"row":119,"column":16},"action":"remove","lines":["find"],"id":52},{"start":{"row":119,"column":12},"end":{"row":119,"column":25},"action":"insert","lines":["find_record()"]}],[{"start":{"row":121,"column":12},"end":{"row":121,"column":47},"action":"remove","lines":["print(\"You have selected option 3\")"],"id":53},{"start":{"row":121,"column":12},"end":{"row":121,"column":13},"action":"insert","lines":["e"]},{"start":{"row":121,"column":13},"end":{"row":121,"column":14},"action":"insert","lines":["d"]}],[{"start":{"row":121,"column":12},"end":{"row":121,"column":14},"action":"remove","lines":["ed"],"id":54},{"start":{"row":121,"column":12},"end":{"row":121,"column":25},"action":"insert","lines":["edit_record()"]}],[{"start":{"row":113,"column":0},"end":{"row":129,"column":17},"action":"remove","lines":["def main_loop():","    while True:","        option = show_menu()","        if option == \"1\":","            add_record()","        elif option == \"2\":","            find_record()","        elif option == \"3\":","            edit_record()","        elif option == \"4\":","            print(\"You have selected option 4\")","        elif option == \"5\":","            conn.close()","            break","        else:","            print(\"Invalid option\")","        print(\"\")"],"id":55},{"start":{"row":113,"column":0},"end":{"row":129,"column":17},"action":"insert","lines":["def main_loop():","    while True:","        option = show_menu()","        if option == \"1\":","            add_record()","        elif option == \"2\":","            find_record()","        elif option == \"3\":","            edit_record()","        elif option == \"4\":","            delete_record()","        elif option == \"5\":","            conn.close()","            break","        else:","            print(\"Invalid option\")","        print(\"\")"]}]]},"ace":{"folds":[],"scrolltop":1451,"scrollleft":0,"selection":{"start":{"row":123,"column":27},"end":{"row":123,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":102,"state":"start","mode":"ace/mode/python"}},"timestamp":1561912017358,"hash":"507d008f5d22ad00cf263d9eb6f9fbcae425faa5"}